
=====================================================

Null accurancy score:     8    0.285714
Name: Gleason, dtype: float64
Checking for missing data: 
False
ROUND:  0

=====================================================

ROUND:  0
METHOD:  0 L1-based selection

=====================================================

L1-based selection  (threshold:  None )
Fitting
Transforming
Before:   23281
After:    36 True
Removed:  23245
Cross validating
RFC Scores:   [0.14285714 0.14285714 0.28571429 0.28571429 0.14285714]
Accuracy:    0.20 (+/- 0.14)

=====================================================


=====================================================

ROUND:  0
METHOD:  1 Variance filter

=====================================================

Removing features with low variance  (threshold:  0.0 )
Fitting and Transforming
Before:   23281
After:    21647 True
Removed:  1634
Cross validating
RFC Scores:   [0.28571429 0.42857143 0.28571429 0.14285714 0.42857143]
Accuracy:    0.31 (+/- 0.21)

=====================================================


=====================================================

Removing features with low variance  (threshold:  0.0125 )
Fitting and Transforming
Before:   23281
After:    16299 True
Removed:  6982
Cross validating
RFC Scores:   [0.28571429 0.42857143 0.14285714 0.42857143 0.71428571]
Accuracy:    0.40 (+/- 0.38)

=====================================================


=====================================================

Removing features with low variance  (threshold:  0.025 )
Fitting and Transforming
Before:   23281
After:    15062 True
Removed:  8219
Cross validating
RFC Scores:   [0.42857143 0.28571429 0.28571429 0.28571429 0.28571429]
Accuracy:    0.31 (+/- 0.11)

=====================================================


=====================================================

Removing features with low variance  (threshold:  0.037500000000000006 )
Fitting and Transforming
Before:   23281
After:    14213 True
Removed:  9068
Cross validating
RFC Scores:   [0.28571429 0.42857143 0.28571429 0.42857143 0.28571429]
Accuracy:    0.34 (+/- 0.14)

=====================================================


=====================================================

Removing features with low variance  (threshold:  0.05 )
Fitting and Transforming
Before:   23281
After:    13515 True
Removed:  9766
Cross validating
RFC Scores:   [0.28571429 0.42857143 0.42857143 0.28571429 0.28571429]
Accuracy:    0.34 (+/- 0.14)

=====================================================


=====================================================

ROUND:  0
METHOD:  2 Recursive feature elimination w CV
SKIPPING

=====================================================

ROUND:  0
METHOD:  3 High correlation filter
SKIPPING

=====================================================

ROUND:  0
METHOD:  4 Model feature select

=====================================================

Feature selection from model (threshold:  None )
Fitting
Transforming
Before:   23281
After:    479 True
Removed:  22802
Cross validating
RFC Scores:   [0.57142857 0.42857143 0.42857143 0.71428571 0.71428571]
Accuracy:    0.57 (+/- 0.26)

=====================================================


=====================================================

ROUND:  0
METHOD:  5 Target correlation filter

=====================================================

Target correlation filter  (threshold:  0.05 )
Before:   23281
After:    23281
Removed:  0
RFC Scores:   [0.42857143 0.57142857 0.28571429 0.28571429 0.42857143]
Accuracy:    0.40 (+/- 0.21)

=====================================================


=====================================================

Target correlation filter  (threshold:  0.1 )
Before:   23281
After:    23281
Removed:  0
RFC Scores:   [0.42857143 0.57142857 0.28571429 0.28571429 0.42857143]
Accuracy:    0.40 (+/- 0.21)

=====================================================


=====================================================

Target correlation filter  (threshold:  0.15000000000000002 )
Before:   23281
After:    23281
Removed:  0
RFC Scores:   [0.42857143 0.57142857 0.28571429 0.28571429 0.42857143]
Accuracy:    0.40 (+/- 0.21)

=====================================================


=====================================================

Target correlation filter  (threshold:  0.2 )
Before:   23281
After:    23281
Removed:  0
RFC Scores:   [0.42857143 0.57142857 0.28571429 0.28571429 0.42857143]
Accuracy:    0.40 (+/- 0.21)

=====================================================


=====================================================

Target correlation filter  (threshold:  0.25 )
Before:   23281
After:    23281
Removed:  0
RFC Scores:   [0.42857143 0.57142857 0.28571429 0.28571429 0.42857143]
Accuracy:    0.40 (+/- 0.21)

=====================================================


=====================================================

ROUND:  0
METHOD:  6 Tree based selection

=====================================================

Tree based selection  (threshold:  None )
Fitting
Transforming
Before:   23281
After:    921 True
Removed:  22360
Cross validating
RFC Scores:   [0.42857143 0.28571429 0.71428571 0.71428571 0.57142857]
Accuracy:    0.54 (+/- 0.33)

=====================================================


=====================================================

ROUND:  0
METHOD:  7 Recursive feature elimination
SKIPPING

=====================================================

ROUND:  0
METHOD:  8 Univariate feature selection

=====================================================

Univariate feature selection  (n features:  500 )
Feature selection
Fitting and Transforming
Before:   23281
After:    500 True
Removed:  22781
Cross validating
RFC Scores:   [0.57142857 0.42857143 0.71428571 0.57142857 0.57142857]
Accuracy:    0.57 (+/- 0.18)

=====================================================


=====================================================

Univariate feature selection  (n features:  1000 )
Feature selection
Fitting and Transforming
Before:   23281
After:    1000 True
Removed:  22281
Cross validating
RFC Scores:   [0.28571429 0.57142857 0.57142857 0.57142857 0.28571429]
Accuracy:    0.46 (+/- 0.28)

=====================================================


=====================================================

Univariate feature selection  (n features:  1500 )
Feature selection
Fitting and Transforming
Before:   23281
After:    1500 True
Removed:  21781
Cross validating
RFC Scores:   [0.28571429 0.42857143 0.71428571 0.57142857 0.71428571]
Accuracy:    0.54 (+/- 0.33)

=====================================================


=====================================================

Univariate feature selection  (n features:  2000 )
Feature selection
Fitting and Transforming
Before:   23281
After:    2000 True
Removed:  21281
Cross validating
RFC Scores:   [0.57142857 0.57142857 0.71428571 0.57142857 0.57142857]
Accuracy:    0.60 (+/- 0.11)

=====================================================


=====================================================

Univariate feature selection  (n features:  2500 )
Feature selection
Fitting and Transforming
Before:   23281
After:    2500 True
Removed:  20781
Cross validating
RFC Scores:   [0.42857143 0.42857143 0.71428571 0.71428571 0.71428571]
Accuracy:    0.60 (+/- 0.28)

=====================================================




ROUND 0 FINISHED



1 21

=====================================================

Checking method:  0 / 20 0 L1-based selection None
Score:  0.2  Var:  0.13997084244475302
Removed:  23245
Current best!!

=====================================================

Checking method:  1 / 20 0 Variance filter 0.0
Score:  0.3142857142857143  Var:  0.2138089935299395
Removed:  1634
Current best!!

=====================================================

Checking method:  2 / 20 0 Variance filter 0.0125
Score:  0.4  Var:  0.37904283318347426
Removed:  6982

=====================================================

Checking method:  3 / 20 0 Variance filter 0.025
Score:  0.3142857142857142  Var:  0.11428571428571428
Removed:  8219

=====================================================

Checking method:  4 / 20 0 Variance filter 0.037500000000000006
Score:  0.3428571428571428  Var:  0.13997084244475302
Removed:  9068
Current best!!

=====================================================

Checking method:  5 / 20 0 Variance filter 0.05
Score:  0.3428571428571428  Var:  0.13997084244475305
Removed:  9766

=====================================================

Checking method:  6 / 20 0 Recursive feature elimination w CV 0
Score:  0.0  Var:  0.0
Removed:  0

=====================================================

Checking method:  7 / 20 0 High correlation filter 0
Score:  0.0  Var:  0.0
Removed:  0

=====================================================

Checking method:  8 / 20 0 Model feature select None
Score:  0.5714285714285714  Var:  0.255550625999976
Removed:  22802
Current best!!

=====================================================

Checking method:  9 / 20 0 Target correlation filter 0.05
Score:  0.39999999999999997  Var:  0.2138089935299395
Removed:  0

=====================================================

Checking method:  10 / 20 0 Target correlation filter 0.1
Score:  0.39999999999999997  Var:  0.2138089935299395
Removed:  0

=====================================================

Checking method:  11 / 20 0 Target correlation filter 0.15000000000000002
Score:  0.39999999999999997  Var:  0.2138089935299395
Removed:  0

=====================================================

Checking method:  12 / 20 0 Target correlation filter 0.2
Score:  0.39999999999999997  Var:  0.2138089935299395
Removed:  0

=====================================================

Checking method:  13 / 20 0 Target correlation filter 0.25
Score:  0.39999999999999997  Var:  0.2138089935299395
Removed:  0

=====================================================

Checking method:  14 / 20 0 Tree based selection None
Score:  0.5428571428571429  Var:  0.33319725113401716
Removed:  22360

=====================================================

Checking method:  15 / 20 0 Recursive feature elimination 0
Score:  0.0  Var:  0.0
Removed:  0

=====================================================

Checking method:  16 / 20 0 Univariate feature selection 500
Score:  0.5714285714285714  Var:  0.18070158058105026
Removed:  22781

=====================================================

Checking method:  17 / 20 0 Univariate feature selection 1000
Score:  0.45714285714285713  Var:  0.27994168488950605
Removed:  22281

=====================================================

Checking method:  18 / 20 0 Univariate feature selection 1500
Score:  0.5428571428571428  Var:  0.33319725113401716
Removed:  21781

=====================================================

Checking method:  19 / 20 0 Univariate feature selection 2000
Score:  0.6  Var:  0.11428571428571432
Removed:  21281
Current best!!

=====================================================

Checking method:  20 / 20 0 Univariate feature selection 2500
Score:  0.6  Var:  0.2799416848895061
Removed:  20781
First: 0 0
Second: 0 0

=====================================================

Univariate feature selection  (n features:  2000 )
Feature selection
Fitting and Transforming
Before:   23281
After:    2000 True
Removed:  21281
Cross validating
RFC Scores:   [0.57142857 0.57142857 0.71428571 0.57142857 0.57142857]
Accuracy:    0.60 (+/- 0.11)
Plotting importance

=====================================================


=====================================================





TOP METHOD:   Univariate feature selection 

TOP SCORE:    0.6  BEST VAR:     0.11428571428571432 

Removed:      21281 New size:    2000 

Route:        [('Univariate feature selection', 2000)] 





=====================================================

ROUND:  1

=====================================================

ROUND:  1
METHOD:  0 L1-based selection

=====================================================

L1-based selection  (threshold:  None )
Fitting
Transforming
Before:   2000
After:    19 True
Removed:  1981
Cross validating
RFC Scores:   [0.28571429 0.14285714 0.71428571 0.42857143 0.42857143]
Accuracy:    0.40 (+/- 0.38)

=====================================================


=====================================================

ROUND:  1
METHOD:  1 Variance filter

=====================================================

Removing features with low variance  (threshold:  0.0 )
Fitting and Transforming
Before:   2000
After:    2000 True
Removed:  0
Cross validating
RFC Scores:   [0.28571429 0.28571429 0.28571429 0.28571429 0.57142857]
Accuracy:    0.34 (+/- 0.23)

=====================================================


=====================================================

Removing features with low variance  (threshold:  0.0125 )
Fitting and Transforming
Before:   2000
After:    1371 True
Removed:  629
Cross validating
RFC Scores:   [0.28571429 0.14285714 0.42857143 0.28571429 0.57142857]
Accuracy:    0.34 (+/- 0.29)

=====================================================


=====================================================

Removing features with low variance  (threshold:  0.025 )
Fitting and Transforming
Before:   2000
After:    1220 True
Removed:  780
Cross validating
RFC Scores:   [0.28571429 0.28571429 0.28571429 0.28571429 0.28571429]
Accuracy:    0.29 (+/- 0.00)

=====================================================


=====================================================

Removing features with low variance  (threshold:  0.037500000000000006 )
Fitting and Transforming
Before:   2000
After:    1110 True
Removed:  890
Cross validating
RFC Scores:   [0.14285714 0.28571429 0.14285714 0.14285714 0.57142857]
Accuracy:    0.26 (+/- 0.33)

=====================================================


=====================================================

Removing features with low variance  (threshold:  0.05 )
Fitting and Transforming
Before:   2000
After:    1031 True
Removed:  969
Cross validating
RFC Scores:   [0.42857143 0.28571429 0.42857143 0.42857143 0.28571429]
Accuracy:    0.37 (+/- 0.14)

=====================================================


=====================================================

ROUND:  1
METHOD:  2 Recursive feature elimination w CV
SKIPPING

=====================================================

ROUND:  1
METHOD:  3 High correlation filter
SKIPPING

=====================================================

ROUND:  1
METHOD:  4 Model feature select

=====================================================

Feature selection from model (threshold:  None )
Fitting
Transforming
Before:   2000
After:    384 True
Removed:  1616
Cross validating
RFC Scores:   [0.42857143 0.71428571 0.85714286 0.85714286 0.71428571]
Accuracy:    0.71 (+/- 0.31)

=====================================================


=====================================================

ROUND:  1
METHOD:  5 Target correlation filter

=====================================================

Target correlation filter  (threshold:  0.05 )
Before:   2000
After:    2000
Removed:  0
RFC Scores:   [0.57142857 0.57142857 0.71428571 0.57142857 0.57142857]
Accuracy:    0.60 (+/- 0.11)

=====================================================


=====================================================

Target correlation filter  (threshold:  0.1 )
Before:   2000
After:    2000
Removed:  0
RFC Scores:   [0.57142857 0.57142857 0.71428571 0.57142857 0.57142857]
Accuracy:    0.60 (+/- 0.11)

=====================================================


=====================================================

Target correlation filter  (threshold:  0.15000000000000002 )
Before:   2000
After:    2000
Removed:  0
RFC Scores:   [0.57142857 0.57142857 0.71428571 0.57142857 0.57142857]
Accuracy:    0.60 (+/- 0.11)

=====================================================


=====================================================

Target correlation filter  (threshold:  0.2 )
Before:   2000
After:    2000
Removed:  0
RFC Scores:   [0.57142857 0.57142857 0.71428571 0.57142857 0.57142857]
Accuracy:    0.60 (+/- 0.11)

=====================================================


=====================================================

Target correlation filter  (threshold:  0.25 )
Before:   2000
After:    2000
Removed:  0
RFC Scores:   [0.57142857 0.57142857 0.71428571 0.57142857 0.57142857]
Accuracy:    0.60 (+/- 0.11)

=====================================================


=====================================================

ROUND:  1
METHOD:  6 Tree based selection

=====================================================

Tree based selection  (threshold:  None )
Fitting
Transforming
Before:   2000
After:    675 True
Removed:  1325
Cross validating
RFC Scores:   [0.57142857 0.57142857 0.71428571 0.85714286 0.71428571]
Accuracy:    0.69 (+/- 0.21)

=====================================================


=====================================================

ROUND:  1
METHOD:  7 Recursive feature elimination
SKIPPING



ROUND 1 FINISHED



2 17

=====================================================

Checking method:  0 / 16 1 Univariate feature selection 2000
Score:  0.6  Var:  0.11428571428571432
Removed:  21281

=====================================================

Checking method:  1 / 16 1 L1-based selection None
Score:  0.4  Var:  0.3790428331834743
Removed:  1981

=====================================================

Checking method:  2 / 16 1 Variance filter 0.0
Score:  0.34285714285714286  Var:  0.22857142857142856
Removed:  0

=====================================================

Checking method:  3 / 16 1 Variance filter 0.0125
Score:  0.34285714285714286  Var:  0.2913725436338734
Removed:  629

=====================================================

Checking method:  4 / 16 1 Variance filter 0.025
Score:  0.2857142857142857  Var:  0.0
Removed:  780

=====================================================

Checking method:  5 / 16 1 Variance filter 0.037500000000000006
Score:  0.2571428571428571  Var:  0.3331972511340171
Removed:  890

=====================================================

Checking method:  6 / 16 1 Variance filter 0.05
Score:  0.37142857142857144  Var:  0.13997084244475302
Removed:  969

=====================================================

Checking method:  7 / 16 1 Recursive feature elimination w CV 0
Score:  0.0  Var:  0.0
Removed:  0

=====================================================

Checking method:  8 / 16 1 High correlation filter 0
Score:  0.0  Var:  0.0
Removed:  0

=====================================================

Checking method:  9 / 16 1 Model feature select None
Score:  0.7142857142857143  Var:  0.3129843185743806
Removed:  1616

=====================================================

Checking method:  10 / 16 1 Target correlation filter 0.05
Score:  0.6  Var:  0.11428571428571432
Removed:  0

=====================================================

Checking method:  11 / 16 1 Target correlation filter 0.1
Score:  0.6  Var:  0.11428571428571432
Removed:  0

=====================================================

Checking method:  12 / 16 1 Target correlation filter 0.15000000000000002
Score:  0.6  Var:  0.11428571428571432
Removed:  0

=====================================================

Checking method:  13 / 16 1 Target correlation filter 0.2
Score:  0.6  Var:  0.11428571428571432
Removed:  0

=====================================================

Checking method:  14 / 16 1 Target correlation filter 0.25
Score:  0.6  Var:  0.11428571428571432
Removed:  0

=====================================================

Checking method:  15 / 16 1 Tree based selection None
Score:  0.6857142857142857  Var:  0.2138089935299395
Removed:  1325

=====================================================

Checking method:  16 / 16 1 Recursive feature elimination 0
Score:  0.0  Var:  0.0
Removed:  0
First: 0 1

=====================================================





DIDN'T BEAT LAST ROUND
Total number of rounds:  0 

TOP SCORE:    0.6  BEST VAR:     0.11428571428571432 

Removed:      21281 New size:    2000 

Route:        [('Univariate feature selection', 2000)] 





=====================================================

[{'method': 'Univariate feature selection', 'threshold': 2000, 'size': 2000, 'removed': 21281, 'rfc_scores': array([0.57142857, 0.57142857, 0.71428571, 0.57142857, 0.57142857]), 'time-taken': 0.5040862560272217}]
Base RFC accuracy:    0.14285714285714285
Base RFC class rep:
              precision    recall  f1-score   support

           6       0.17      1.00      0.29         1
           7       0.00      0.00      0.00         2
           8       1.00      0.00      0.00         3
           9       1.00      0.00      0.00         1

    accuracy                           0.14         7
   macro avg       0.54      0.25      0.07         7
weighted avg       0.60      0.14      0.04         7

Cross validating
RFC Scores:   [0.42857143 0.57142857 0.28571429 0.28571429 0.42857143]
Accuracy:    0.40 (+/- 0.21)
Base Num features:    23281

=====================================================

Features selected: 

=====================================================

Train gene shape:     (28, 2000)

=====================================================

TOP 3:  ESM1        100.000000
C20orf94     58.709929
RNASEK       54.322764
dtype: float64
RFC accuracy:     0.2857142857142857
RFC classification report:
              precision    recall  f1-score   support

           6       0.20      1.00      0.33         1
           7       0.50      0.50      0.50         2
           8       1.00      0.00      0.00         3
           9       1.00      0.00      0.00         1

    accuracy                           0.29         7
   macro avg       0.68      0.38      0.21         7
weighted avg       0.74      0.29      0.19         7

Cross validating
RFC Scores:   [0.57142857 0.57142857 0.71428571 0.57142857 0.57142857]
Accuracy:    0.60 (+/- 0.11)
Num features:     2000

=====================================================

Method Log
[{'method': 'Univariate feature selection', 'threshold': 2000, 'size': 2000, 'removed': 21281, 'rfc_scores': array([0.57142857, 0.57142857, 0.71428571, 0.57142857, 0.57142857]), 'time-taken': 0.5040862560272217}]

=====================================================

Visualise cross validation scores methodlog

Plotting top2 classification

Plotting confusion matrix

Plotting validation curve

Plotting learning curve


=====================================================

Grid searching:
Fitting 5 folds for each of 7000 candidates, totalling 35000 fits
Best model:   RandomForestClassifier(bootstrap=True, ccp_alpha=0.0, class_weight=None,
                       criterion='gini', max_depth=5, max_features='auto',
                       max_leaf_nodes=None, max_samples=None,
                       min_impurity_decrease=0.0, min_impurity_split=None,
                       min_samples_leaf=2, min_samples_split=5,
                       min_weight_fraction_leaf=0.0, n_estimators=52,
                       n_jobs=None, oob_score=False, random_state=None,
                       verbose=0, warm_start=False)
Best params:  {'max_depth': 5, 'min_samples_leaf': 2, 'min_samples_split': 5, 'n_estimators': 52}
Best Score:   0.68
Best Var:     0.1306394529484362
Model Performance
Average Error: 1.0000 degrees.
Accuracy = 86.99%.

=====================================================

TOP 3:  LIX1     100.000000
LRRD1     86.617383
HERC3     86.565506
dtype: float64
RFC accuracy:     0.2857142857142857
RFC classification report:
              precision    recall  f1-score   support

           6       0.20      1.00      0.33         1
           7       0.50      0.50      0.50         2
           8       1.00      0.00      0.00         3
           9       1.00      0.00      0.00         1

    accuracy                           0.29         7
   macro avg       0.68      0.38      0.21         7
weighted avg       0.74      0.29      0.19         7

Cross validating
RFC Scores:   [0.57142857 0.57142857 0.71428571 0.57142857 0.57142857]
Accuracy:    0.60 (+/- 0.11)
Num features:     2000

=====================================================

Plotting top2 classification

Plotting confusion matrix

Plotting learning curve

